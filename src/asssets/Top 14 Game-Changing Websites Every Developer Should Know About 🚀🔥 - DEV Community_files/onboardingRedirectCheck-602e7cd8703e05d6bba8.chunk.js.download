(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{200:function(n,o,e){"use strict";e.d(o,"b",(function(){return r})),e.d(o,"a",(function(){return c}));var t=function(n){var o=n.resolve,e=n.reject,t=n.safe,r=void 0!==t&&t,c=n.waitTime,i=void 0===c?20:c,a=0;return function n(){if(3e3===a)return r?void o({user:d,csrfToken:c}):void e(new Error("Couldn't find user data on page."));var t,c=(document,null!==(t=document.querySelector("meta[name='csrf-token']"))?t.content:void 0),d=document.body.dataset.user;if(d&&void 0!==c){var u=JSON.parse(d);o({currentUser:u,csrfToken:c})}else a+=i,setTimeout(n,i)}};function r(){return new Promise((function(n,o){t({resolve:n,reject:o,safe:!0})()}))}function c(){return new Promise((function(n,o){t({resolve:n,reject:o})()}))}},727:function(n,o,e){"use strict";e.r(o);var t=e(200);function r(){return!["/onboarding","/signout_confirm","/privacy","/admin/creator_settings/new"].includes(window.location.pathname)}function c(){return r()&&!["/code-of-conduct","/terms"].includes(window.location.pathname)}function i(n){return n.saw_onboarding&&n.checked_code_of_conduct&&n.checked_terms_and_conditions}function a(n){return"true"===document.body.dataset.creator&&!n.saw_onboarding}function d(){var n,o=null===(n=localStorage.getItem("shouldRedirectToOnboarding"))||void 0===n||n;return JSON.parse(o)}HTMLDocument.prototype.ready=new Promise((function(n){return"loading"!==document.readyState?n():(document.addEventListener("DOMContentLoaded",(function(){return n()})),null)})),document.ready.then(Object(t.a)().then((function(n){var o=n.currentUser,e=n.csrfToken;window.currentUser=o,window.csrfToken=e,a(o)?c()&&(window.location="".concat(window.location.origin,"/admin/creator_settings/new?referrer=").concat(window.location)):r()&&!i(o)&&(window.location="".concat(window.location.origin,"/onboarding?referrer=").concat(window.location))})).catch((function(n){console.error("Error getting user and CSRF Token",n)}))),window.InstantClick.on("change",(function(){Object(t.a)().then((function(n){var o=n.currentUser;c()&&d()&&a(o)?window.location="".concat(window.location.origin,"/admin/creator_settings/new?referrer=").concat(window.location):r()&&d()&&!i(o)&&(window.location="".concat(window.location.origin,"/onboarding?referrer=").concat(window.location))})).catch((function(n){console.error("Error getting user and CSRF Token",n)}))}))}},[[727,143]]]);
//# sourceMappingURL=onboardingRedirectCheck-602e7cd8703e05d6bba8.chunk.js.map