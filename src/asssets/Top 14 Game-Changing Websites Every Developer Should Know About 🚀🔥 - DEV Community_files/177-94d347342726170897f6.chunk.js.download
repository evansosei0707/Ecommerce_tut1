(window.webpackJsonp=window.webpackJsonp||[]).push([[177,2],{0:function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return O})),n.d(t,"Fragment",(function(){return w})),n.d(t,"cloneElement",(function(){return q})),n.d(t,"createContext",(function(){return V})),n.d(t,"createElement",(function(){return y})),n.d(t,"createRef",(function(){return g})),n.d(t,"h",(function(){return y})),n.d(t,"hydrate",(function(){return $})),n.d(t,"isValidElement",(function(){return a})),n.d(t,"options",(function(){return o})),n.d(t,"render",(function(){return W})),n.d(t,"toChildArray",(function(){return T}));var r,o,i,a,c,l,u,s,f,d={},p=[],_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,m=Array.isArray;function v(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n){var o,i,a,c={};for(a in t)"key"==a?o=t[a]:"ref"==a?i=t[a]:c[a]=t[a];if(arguments.length>2&&(c.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===c[a]&&(c[a]=e.defaultProps[a]);return b(e,c,o,i,null)}function b(e,t,n,r,a){var c={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++i:a};return null==a&&null!=o.vnode&&o.vnode(c),c}function g(){return{current:null}}function w(e){return e.children}function O(e,t){this.props=e,this.context=t}function j(e,t){if(null==t)return e.__?j(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?j(e):null}function E(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return E(e)}}function S(e){(!e.__d&&(e.__d=!0)&&c.push(e)&&!k.__r++||l!==o.debounceRendering)&&((l=o.debounceRendering)||u)(k)}function k(){var e,t,n,r,o,i,a,l,u;for(c.sort(s);e=c.shift();)e.__d&&(t=c.length,r=void 0,o=void 0,i=void 0,l=(a=(n=e).__v).__e,(u=n.__P)&&(r=[],o=[],(i=v({},a)).__v=a.__v+1,N(u,a,i,n.__n,void 0!==u.ownerSVGElement,null!=a.__h?[l]:null,r,null==l?j(a):l,a.__h,o),M(r,a,o),a.__e!=l&&E(a)),c.length>t&&c.sort(s));k.__r=0}function C(e,t,n,r,o,i,a,c,l,u,s){var f,_,v,h,y,g,O,j,E,S,k=0,C=r&&r.__k||p,T=C.length,P=T,D=t.length;for(n.__k=[],f=0;f<D;f++)null!=(h=n.__k[f]=null==(h=t[f])||"boolean"==typeof h||"function"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?b(null,h,null,null,h):m(h)?b(w,{children:h},null,null,null):h.__b>0?b(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)&&(h.__=n,h.__b=n.__b+1,-1===(j=A(h,C,O=f+k,P))?v=d:(v=C[j]||d,C[j]=void 0,P--),N(e,h,v,o,i,a,c,l,u,s),y=h.__e,(_=h.ref)&&v.ref!=_&&(v.ref&&H(v.ref,null,h),s.push(_,h.__c||y,h)),null!=y&&(null==g&&(g=y),S=!(E=v===d||null===v.__v)&&j===O,E?-1==j&&k--:j!==O&&(j===O+1?(k++,S=!0):j>O?P>D-O?(k+=j-O,S=!0):k--:k=j<O&&j==O-1?j-O:0),O=f+k,S=S||j==f&&!E,"function"!=typeof h.type||j===O&&v.__k!==h.__k?"function"==typeof h.type||S?void 0!==h.__d?(l=h.__d,h.__d=void 0):l=y.nextSibling:l=L(e,y,l):l=x(h,l,e),"function"==typeof n.type&&(n.__d=l)));for(n.__e=g,f=T;f--;)null!=C[f]&&("function"==typeof n.type&&null!=C[f].__e&&C[f].__e==n.__d&&(n.__d=C[f].__e.nextSibling),R(C[f],C[f]))}function x(e,t,n){for(var r,o=e.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=e,t="function"==typeof r.type?x(r,t,n):L(n,r.__e,t));return t}function T(e,t){return t=t||[],null==e||"boolean"==typeof e||(m(e)?e.some((function(e){T(e,t)})):t.push(e)),t}function L(e,t,n){return null==n||n.parentNode!==e?e.insertBefore(t,null):t==n&&null!=t.parentNode||e.insertBefore(t,n),t.nextSibling}function A(e,t,n,r){var o=e.key,i=e.type,a=n-1,c=n+1,l=t[n];if(null===l||l&&o==l.key&&i===l.type)return n;if(r>(null!=l?1:0))for(;a>=0||c<t.length;){if(a>=0){if((l=t[a])&&o==l.key&&i===l.type)return a;a--}if(c<t.length){if((l=t[c])&&o==l.key&&i===l.type)return c;c++}}return-1}function P(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||_.test(t)?n:n+"px"}function D(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||P(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||P(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?B:I,i):e.removeEventListener(t,i?B:I,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function I(e){return this.l[e.type+!1](o.event?o.event(e):e)}function B(e){return this.l[e.type+!0](o.event?o.event(e):e)}function N(e,t,n,r,i,a,c,l,u,s){var f,d,p,_,h,y,b,g,j,E,S,k,x,T,L,A=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,l=t.__e=n.__e,t.__h=null,a=[l]),(f=o.__b)&&f(t);try{e:if("function"==typeof A){if(g=t.props,j=(f=A.contextType)&&r[f.__c],E=f?j?j.props.value:f.__:r,n.__c?b=(d=t.__c=n.__c).__=d.__E:("prototype"in A&&A.prototype.render?t.__c=d=new A(g,E):(t.__c=d=new O(g,E),d.constructor=A,d.render=F),j&&j.sub(d),d.props=g,d.state||(d.state={}),d.context=E,d.__n=r,p=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=A.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=v({},d.__s)),v(d.__s,A.getDerivedStateFromProps(g,d.__s))),_=d.props,h=d.state,d.__v=t,p)null==A.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==A.getDerivedStateFromProps&&g!==_&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,E),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,E)||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=g,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[],d.__h.length&&c.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,E),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(_,h,y)}))}if(d.context=E,d.props=g,d.__P=e,d.__e=!1,k=o.__r,x=0,"prototype"in A&&A.prototype.render){for(d.state=d.__s,d.__d=!1,k&&k(t),f=d.render(d.props,d.state,d.context),T=0;T<d._sb.length;T++)d.__h.push(d._sb[T]);d._sb=[]}else do{d.__d=!1,k&&k(t),f=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++x<25);d.state=d.__s,null!=d.getChildContext&&(r=v(v({},r),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(y=d.getSnapshotBeforeUpdate(_,h)),C(e,m(L=null!=f&&f.type===w&&null==f.key?f.props.children:f)?L:[L],t,n,r,i,a,c,l,u,s),d.base=t.__e,t.__h=null,d.__h.length&&c.push(d),b&&(d.__E=d.__=null)}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=U(n.__e,t,n,r,i,a,c,u,s);(f=o.diffed)&&f(t)}catch(e){t.__v=null,(u||null!=a)&&(t.__e=l,t.__h=!!u,a[a.indexOf(l)]=null),o.__e(e,t,n)}}function M(e,t,n){for(var r=0;r<n.length;r++)H(n[r],n[++r],n[++r]);o.__c&&o.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){o.__e(e,t.__v)}}))}function U(e,t,n,o,i,a,c,l,u){var s,f,p,_=n.props,v=t.props,y=t.type,b=0;if("svg"===y&&(i=!0),null!=a)for(;b<a.length;b++)if((s=a[b])&&"setAttribute"in s==!!y&&(y?s.localName===y:3===s.nodeType)){e=s,a[b]=null;break}if(null==e){if(null===y)return document.createTextNode(v);e=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,v.is&&v),a=null,l=!1}if(null===y)_===v||l&&e.data===v||(e.data=v);else{if(a=a&&r.call(e.childNodes),f=(_=n.props||d).dangerouslySetInnerHTML,p=v.dangerouslySetInnerHTML,!l){if(null!=a)for(_={},b=0;b<e.attributes.length;b++)_[e.attributes[b].name]=e.attributes[b].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||D(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||D(e,i,t[i],n[i],r)}(e,v,_,i,l),p)t.__k=[];else if(C(e,m(b=t.props.children)?b:[b],t,n,o,i&&"foreignObject"!==y,a,c,a?a[0]:n.__k&&j(n,0),l,u),null!=a)for(b=a.length;b--;)null!=a[b]&&h(a[b]);l||("value"in v&&void 0!==(b=v.value)&&(b!==e.value||"progress"===y&&!b||"option"===y&&b!==_.value)&&D(e,"value",b,_.value,!1),"checked"in v&&void 0!==(b=v.checked)&&b!==e.checked&&D(e,"checked",b,_.checked,!1))}return e}function H(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){o.__e(e,n)}}function R(e,t,n){var r,i;if(o.unmount&&o.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||H(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){o.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&R(r[i],t,n||"function"!=typeof e.type);n||null==e.__e||h(e.__e),e.__=e.__e=e.__d=void 0}function F(e,t,n){return this.constructor(e,n)}function W(e,t,n){var i,a,c,l;o.__&&o.__(e,t),a=(i="function"==typeof n)?null:n&&n.__k||t.__k,c=[],l=[],N(t,e=(!i&&n||t).__k=y(w,null,[e]),a||d,d,void 0!==t.ownerSVGElement,!i&&n?[n]:a?null:t.firstChild?r.call(t.childNodes):null,c,!i&&n?n:a?a.__e:t.firstChild,i,l),M(c,e,l)}function $(e,t){W(e,t,$)}function q(e,t,n){var o,i,a,c,l=v({},e.props);for(a in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)"key"==a?o=t[a]:"ref"==a?i=t[a]:l[a]=void 0===t[a]&&void 0!==c?c[a]:t[a];return arguments.length>2&&(l.children=arguments.length>3?r.call(arguments,2):n),b(e.type,l,o||e.key,i||e.ref,null)}function V(e,t){var n={__c:t="__cC"+f++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,S(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r=p.slice,o={__e:function(e,t,n,r){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(t){e=t}throw e}},i=0,a=function(e){return null!=e&&void 0===e.constructor},O.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),"function"==typeof e&&(e=e(v({},n),this.props)),e&&v(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),S(this))},O.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),S(this))},O.prototype.render=w,c=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,s=function(e,t){return e.__v.__b-t.__v.__b},k.__r=0,f=0},184:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return f}));var r=n(29);function o(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=e.replace(/[[\]]/g,"\\$&"),r=new RegExp("[?&]".concat(n,"(=([^&#]*)|&|#|$)")).exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}(e,t);return n?"&".concat(e,"=").concat(n):""}function i(e){return o("filters",e)}function a(){return"undefined"!==typeof instantClick}function c(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16))}))}function l(e){var t,n=e.searchTerm,r=e.location,a=void 0===r?window.location:r,l=a.origin,u=c(n),s=i(a.href),f=o("sort_by",t=a.href)+o("sort_direction",t);InstantClick.display("".concat(l,"/search?q=").concat(u).concat(s).concat(f))}function u(e){var t,n=new URLSearchParams(e),r=null!==(t=filterXSS(n.get("q")))&&void 0!==t?t:"",o=document.createElement("div");return o.innerHTML=r,null!==o.firstChild?o.firstChild.nodeValue:r}function s(e){var t=e.searchTerm,n=e.location,r=void 0===n?window.location:n,o=c(t.replace(/^[ ]+|[ ]+$/g,"")),a="".concat(r.origin,"/search?q=").concat(o).concat(i(r.href));InstantClick.preload(a)}function f(e,t){var n=function(e){var t=new URLSearchParams;return Object.keys(e).forEach((function(n){var r=e[n];Array.isArray(r)?r.forEach((function(e){t.append("".concat(n,"[]"),e)})):t.append(n,r)})),t.toString()}(t);return Object(r.b)("/search/".concat(e,"?").concat(n)).then((function(e){return e.json()}))}},219:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(13),o=n(25);function i(e,t,n){return function(i){if(i.preventDefault(),function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Files";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some((function(t){return t===e}))}(i.dataTransfer.types)){i.currentTarget.closest(".drop-area").classList.remove("drop-area--active");var a=i.dataTransfer.files;a.length>1?Object(r.addSnackbarItem)({message:"Only one image can be dropped at a time.",addCloseButton:!0}):Object(o.c)(a,e,t,n)}}}function a(e){e.preventDefault(),e.currentTarget.closest(".drop-area").classList.add("drop-area--active")}function c(e){e.preventDefault(),e.currentTarget.closest(".drop-area").classList.remove("drop-area--active")}function l(e){var t=e.message;Object(r.addSnackbarItem)({message:t,addCloseButton:!0})}},221:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n(219),o="![Uploading image](...)";function i(e){return function(){var t=e.current,n=t.selectionStart,r=t.selectionEnd,i=t.value,a=i.substring(0,n),c=i.substring(r,i.length),l="".concat(a,"\n").concat(o).length;t.value="".concat(a,"\n").concat(o,"\n").concat(c),t.selectionStart=l,t.selectionEnd=l}}function a(e){return function(t){var n=e.current,r=t.links,i="![Image description](".concat(r[0],")\n"),a=n.selectionStart,c=n.selectionEnd,l=n.value;if(l.includes(o)){var u=l.indexOf(o,0)+i.length;n.value=l.replace(o,i),n.selectionStart=u,n.selectionEnd=u}else{var s=l.substring(0,a),f=l.substring(c,l.length);n.value="".concat(s,"\n").concat(i,"\n").concat(f),n.selectionStart=a+i.length,n.selectionEnd=n.selectionStart}n.dispatchEvent(new Event("input"))}}function c(e){return function(t){Object(r.b)(t);var n=e.current,i=n.value;if(i.includes("\n".concat(o,"\n"))){var a=i.indexOf("\n".concat(o,"\n"),0);n.value=i.replace("\n".concat(o,"\n"),""),n.selectionStart=a,n.selectionEnd=a}}}},29:function(e,t,n){"use strict";function r(e){if(e.ok)return e;try{e.json().then((function(e){throw new Error(e.error)}))}catch(t){throw t instanceof SyntaxError?new Error(e.statusText):t}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o.a}));var o=n(39)},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));function r(){return new Promise((function(e,t){var n=0,r=setInterval((function(){var o=document.querySelector("meta[name='csrf-token']");if(n+=1,o){clearInterval(r);var i=o.getAttribute("content");return e(i)}if(30===n)return clearInterval(r),Honeybadger.notify("Could not locate CSRF metatag ".concat(JSON.stringify(localStorage.current_user))),t(new Error("Could not locate CSRF meta tag on the page."))}),250)}))}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=["headers","body","method","csrfToken"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))}}function d(e){return p.apply(this,arguments)}function p(){return p=f((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.headers,o=t.body,a=t.method,l=void 0===a?"GET":a,s=t.csrfToken,f=void 0===s?yield r():s,d=u(t,i),p={body:o&&"string"!==typeof o?JSON.stringify(o):o},_=c(c({method:l,headers:c({Accept:"application/json","X-CSRF-Token":f,"Content-Type":"application/json"},n),credentials:"same-origin"},p),d);return fetch(e,_)})),p.apply(this,arguments)}},408:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(0),o=n(2);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(s){u=!0,o=s}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t=e.onDragOver,n=e.onDragExit,r=e.onDrop,a=i(Object(o.l)(null),2),c=a[0],l=a[1];return Object(o.d)((function(){if(c){var e=function(e){return e.preventDefault()};return document.addEventListener("dragover",e),document.addEventListener("drop",e),c.addEventListener("dragover",t),c.addEventListener("dragexit",n),c.addEventListener("dragleave",n),c.addEventListener("drop",r),function(){document.removeEventListener("dragover",e),document.removeEventListener("drop",e),c.removeEventListener("dragover",t),c.removeEventListener("dragexit",n),c.removeEventListener("dragleave",n),c.removeEventListener("drop",r)}}}),[c,t,n,r]),{setElement:l}}function l(e){var t=e.children,n=e.onDragOver,i=e.onDragExit,a=e.onDrop;if(!t)throw new Error("The <DragAndDropZone /> component children prop is null or was not specified.");var l=c({onDragOver:n,onDragExit:i,onDrop:a}).setElement,u=Object(o.k)(null);return u.current&&l(u.current),Object(r.cloneElement)(t,{ref:u})}},429:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(13),o=n(25);function i(e,t,n){return function(i){if(i.clipboardData&&i.clipboardData.items&&function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Files";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some((function(t){return t===e}))}(i.clipboardData.types)){i.preventDefault();var a=i.clipboardData.files;a.length>1?Object(r.addSnackbarItem)({message:"Only one image can be pasted at a time.",addCloseButton:!0}):Object(o.c)(a,e,t,n)}}}},430:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(s){u=!0,o=s}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){var t=e.onPaste,n=o(Object(r.l)(null),2),i=n[0],a=n[1];return Object(r.d)((function(){if(i)return i.addEventListener("paste",t),function(){i.removeEventListener("paste",t)}}),[i,t]),a}},549:function(e,t,n){"use strict";n.r(t),n.d(t,"CommentTextArea",(function(){return x}));n(5);var r=n(0),o=n(2);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(s){u=!0,o=s}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=t.target.dataset.targetType,r="personal"===n?"moderator":"personal";t.target.classList.toggle("active"),e.getElementsByClassName("".concat(r,"-template-button"))[0].classList.toggle("active"),e.getElementsByClassName("".concat(n,"-responses-container"))[0].classList.toggle("hidden"),e.getElementsByClassName("".concat(r,"-responses-container"))[0].classList.toggle("hidden")}function l(e,t){return 0===e.length&&"personal_comment"===t?'\n<div class="mod-response-wrapper mod-response-wrapper-empty">\n  <p>\ud83e\udd14... It looks like you don\'t have any templates yet.</p>\n</div>\n':"personal_comment"===t?e.map((function(e){var t=e.content.replaceAll('"',"&quot;");return'\n          <div class="mod-response-wrapper flex mb-4">\n            <div class="flex-1">\n              <h4>'.concat(e.title,"</h4>\n              <p>").concat(e.content,'</p>\n            </div>\n            <div class="pl-2">\n              <button class="crayons-btn crayons-btn--secondary crayons-btn--s insert-template-button" type="button" data-content="').concat(t,'">Insert</button>\n            </div>\n          </div>\n        ')})).join(""):"mod_comment"===t?e.map((function(e){var t=e.content.replaceAll('"',"&quot;");return'\n            <div class="mod-response-wrapper mb-4 flex">\n              <div class="flex-1">\n                <h4>'.concat(e.title,"</h4>\n                <p>").concat(e.content,'</p>\n              </div>\n              <div class="flex flex-nowrap pl-2">\n                <button class="crayons-btn crayons-btn--s crayons-btn--secondary moderator-submit-button m-1" type="submit" data-response-template-id="').concat(e.id,'">Send as Mod</button>\n                <button class="crayons-btn crayons-btn--s crayons-btn--outlined insert-template-button m-1" type="button" data-content="').concat(t,'">Insert</button>\n              </div>\n            </div>\n          ')})).join(""):"Error \ud83d\ude1e"}function u(e,t){var n=e.getElementsByClassName("response-templates-container")[0],r="new_comment"!==e.id&&!e.id.includes("edit_comment"),o=Array.from(n.getElementsByClassName("insert-template-button")),i=Array.from(n.getElementsByClassName("moderator-submit-button"));o.forEach((function(e){e.addEventListener("click",(function(e){var n=e.target.dataset.content,r=e.target.form.querySelector(".comment-textarea");(null===r.value||""===r.value||confirm("Are you sure you want to replace your current comment draft?"))&&(r.value=n,r.dispatchEvent(new Event("input",{target:r})),r.focus(),t())}))})),i.forEach((function(e){e.addEventListener("click",(function(e){var t,n,o;e.preventDefault(),confirm("\nAre you sure you want to submit this comment?\n\nIt will be sent immediately and users will be notified.\n\nMake sure this is the appropriate comment for the situation.\n\nThis action is not reversible.")&&(t=e.target.dataset.responseTemplateId,n=r,o=document.getElementById("comment_commentable_id").value,fetch("/comments/moderator_create",{method:"POST",headers:{Accept:"application/json","X-CSRF-Token":window.csrfToken,"Content-Type":"application/json"},body:JSON.stringify({response_template:{id:t},comment:{body_markdown:"",commentable_id:o,commentable_type:"Article",parent_id:n}})}).then((function(e){return e.json()})).then((function(e){"created"===e.status?window.location.pathname=e.path:"comment already exists"===e.status?alert("This comment already exists."):"error"===e.error&&alert("There was a problem submitting this comment: ".concat(e.status))})))}))}))}function s(e){var t=e.getElementsByClassName("personal-template-button")[0],n=e.getElementsByClassName("moderator-template-button")[0];t.addEventListener("click",(function(t){c(e,t)})),t.classList.remove("hidden"),n.addEventListener("click",(function(t){c(e,t)})),n.classList.remove("hidden")}function f(e,t){!function(e,t){var n=document.getElementById(e),r=[["personal_comment","personal-responses-container"],["mod_comment","moderator-responses-container"]];fetch("/response_templates",{method:"GET",headers:{Accept:"application/json","X-CSRF-Token":window.csrfToken,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){for(var o,a=document.getElementById("response-templates-data"),c=0,f=r;c<f.length;c++){var d=i(f[c],2),p=d[0],_=d[1];if("undefined"!=typeof e[p]){var m=n.getElementsByClassName(_)[0];m.innerHTML=l(e[p],p),o?(a.classList.add(p),m.classList.add("hidden"),s(n)):(o=m,m.classList.remove("hidden"),a.classList.add(p)),a.innerHTML=m.parentElement.innerHTML}}u(n,t)}))}(e.id,t)}function d(e,t){var n=e.getElementsByClassName("response-templates-container")[0],r=document.getElementById("response-templates-data"),o=""!==r.innerHTML;o?(!function(e){e.innerHTML=document.getElementById("response-templates-data").innerHTML}(n),u(e,t)):o||f(e,t),r.classList.contains("personal_comment")&&r.classList.contains("mod_comment")?(e.getElementsByClassName("moderator-template-button")[0].classList.remove("hidden"),e.getElementsByClassName("personal-template-button")[0].classList.remove("hidden"),s(e)):(e.getElementsByClassName("moderator-template-button")[0].classList.add("hidden"),e.getElementsByClassName("personal-template-button")[0].classList.add("hidden"))}var p=n(429),_=n(221),m=n(219),v=n(4),h=n(184),y=n(430),b=n(408);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(s){u=!0,o=s}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(e){return Object(r.h)("svg",e,Object(r.h)("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10Zm0-2a8 8 0 1 0 0-16.001A8 8 0 0 0 12 20Zm-1-5h2v2h-2v-2Zm2-1.645V14h-2v-1.5a1 1 0 0 1 1-1 1.5 1.5 0 1 0-1.471-1.794l-1.962-.393A3.5 3.5 0 1 1 13 13.355Z"}))};k.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};var C=function(e){return Object(r.h)("svg",e,Object(r.h)("path",{d:"M3 18.5V5a3 3 0 0 1 3-3h14a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5A3.5 3.5 0 0 1 3 18.5zM19 20v-3H6.5a1.5 1.5 0 1 0 0 3H19zM10 4H6a1 1 0 0 0-1 1v10.337A3.485 3.485 0 0 1 6.5 15H19V4h-2v8l-3.5-2-3.5 2V4z"}))};C.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};var x=function(e){var t,n=e.vanillaTextArea,i=E(Object(o.l)(!1),2),a=i[0],c=i[1],l=Object(o.k)(null),u=null===(t=document.getElementById("comments-container"))||void 0===t?void 0:t.dataset,s=Object(b.b)({onDrop:Object(m.a)(Object(_.c)(l),Object(_.b)(l),Object(_.a)(l)),onDragOver:m.d,onDragExit:m.c}).setElement,f=Object(y.a)({onPaste:Object(p.a)(Object(_.c)(l),Object(_.b)(l),Object(_.a)(l))});return Object(o.h)((function(){l.current&&(f(l.current),s(l.current))}),[f,s]),Object(r.h)("div",{className:"w-100 relative drop-area"},Object(r.h)(v.AutocompleteTriggerTextArea,{ref:l,triggerCharacter:"@",maxSuggestions:6,searchInstructionsMessage:"Type to search for a user",replaceElement:n,fetchSuggestions:function(e){return Object(h.b)("usernames",{username:e,context_type:null===u||void 0===u?void 0:u.commentableType,context_id:null===u||void 0===u?void 0:u.commentableId}).then((function(e){var t=e.result;return null===t||void 0===t?void 0:t.map((function(e){return O(O({},e),{},{value:e.username})}))}))}}),Object(r.h)(v.MarkdownToolbar,{textAreaId:n.id,additionalSecondaryToolbarElements:[Object(r.h)(v.ButtonNew,{key:"templates-btn",onClick:function(e){var t,n=e.target,r=null===(t=n.closest(".comment-form__inner"))||void 0===t?void 0:t.querySelector(".response-templates-container"),o=n.closest("form");r&&o&&(d(o,(function(){c(!1),r.classList.add("hidden")})),r.classList.toggle("hidden"),c(!a))},icon:C,"aria-label":"Show templates","aria-pressed":a}),Object(r.h)(v.Link,{key:"help-link",block:!0,href:"/p/editor_guide",target:"_blank",rel:"noopener noreferrer",icon:k,"aria-label":"Help"})]}))}}}]);
//# sourceMappingURL=177-94d347342726170897f6.chunk.js.map